<!--
  Explore Page - Unified Search Experience

  Layout:
  - Mobile: Search input is in mobile-header-explore (fixed header)
  - Desktop: Search input is in top-tabs area

  This page only renders the content zone (discovery/search results)
-->
<div class="container-page content-section-lg">
  <!-- Content Zone -->
    <!-- Discovery Mode (component owns its data) -->
    @if (isDiscoveryMode()) {
      <app-explore-discovery />
    }

    <!-- Search Mode -->
    @if (isSearchMode()) {
      <app-explore-search
        [loading]="loading()"
        [results]="searchResults()"
        [showHints]="showSearchHints()"
        [showEmpty]="showEmpty()"
        [hasResults]="hasResults()"
        [hasExactCigarMatch]="hasExactCigarMatch()"
        [limitedCigars]="limitedCigars()"
        [limitedBrands]="limitedBrands()"
        [limitedClubs]="limitedClubs()"
        [limitedUsers]="limitedUsers()"
        [hasMoreCigars]="hasMoreCigars()"
        [hasMoreBrands]="hasMoreBrands()"
        [hasMoreClubs]="hasMoreClubs()"
        [hasMoreUsers]="hasMoreUsers()"
        (resultClick)="handleResultClick($event)"
        (createCigar)="handleCreateCigar()"
        (seeAll)="handleSeeAll($event)"
      />
    }
</div>

<!-- Create Cigar Modal -->
<app-create-cigar-modal
  [isOpen]="createCigarModalOpen()"
  [prefillName]="createCigarPrefillName()"
  (close)="createCigarModalOpen.set(false)"
/>