<div class="mx-auto max-w-4xl space-y-6 md:space-y-8 px-4 md:px-6 py-6 md:py-8">
  <!-- Loading State -->
  @if (loading()) {
    <div class="flex items-center justify-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-gold-500"></div>
    </div>
  }

  <!-- Error State -->
  @if (error() && !loading()) {
    <div class="text-center py-12">
      <h3 class="text-lg font-medium text-smoke-100">Impossible de charger le club</h3>
      <p class="text-sm text-smoke-400 mt-2">Une erreur est survenue</p>
    </div>
  }

  <!-- Loaded State -->
  @if (club() && !loading()) {
    <!-- Header: Signature + Actions -->
    <div class="space-y-3">
      <!-- Club Name + Actions Row -->
      <div class="flex items-start justify-between gap-4">
        <h1 class="font-display text-3xl md:text-4xl text-gold-500">{{ name() }}</h1>

        <!-- Action Icons -->
        <div class="flex items-center gap-2 flex-shrink-0">
          <!-- View Public Profile -->
          <div [uiTooltip]="'Voir le profil public'" tooltipPosition="bottom">
            <a [routerLink]="['/club', slug()]">
              <ui-button
                size="icon"
                variant="ghost"
                icon="eye"
                customClass="!rounded-lg"
              >
                <span class="sr-only">Voir le profil public</span>
              </ui-button>
            </a>
          </div>

          <!-- Share Profile -->
          <div [uiTooltip]="'Partager le club'" tooltipPosition="bottom">
            <ui-button
              size="icon"
              variant="ghost"
              icon="book-copy"
              customClass="!rounded-lg"
              (clicked)="copyClubLink()"
            >
              <span class="sr-only">Partager le club</span>
            </ui-button>
          </div>

          <!-- Settings (only for admins/owners) -->
          @if (canAccessSettings()) {
            <div [uiTooltip]="'Paramètres du club'" tooltipPosition="bottom">
              <a routerLink="/settings">
                <ui-button
                  size="icon"
                  variant="ghost"
                  icon="settings"
                  customClass="!rounded-lg"
                >
                  <span class="sr-only">Paramètres du club</span>
                </ui-button>
              </a>
            </div>
          }
        </div>
      </div>

      <!-- Slug -->
      @if (slug()) {
        <a
          [routerLink]="['/club', slug()]"
          class="caption text-smoke-400 hover:text-gold-500 transition-colors"
        >
          #{{ slug() }}
        </a>
      }

      <!-- Description (sans label) -->
      @if (description()) {
        <p class="body-sm text-smoke-200 mt-3 italic">{{ description() }}</p>
      }
    </div>

    <!-- Parcours Section -->
    <app-parcours-section
      context="club"
      [loading]="profileStatsLoading()"
      [stat1Value]="tastingCount()"
      [stat2Value]="memberCount()"
      [stat3Value]="eventCount()"
    />

    <!-- Aroma Signature Section -->
    <app-aroma-signature-section
      context="club"
      [loading]="profileStatsLoading()"
      [isPremium]="true"
      [hasChronicData]="hasChronicData()"
      [aromas]="aromaSignature()"
      [chronicTastingCount]="chronicTastingCount()"
    />

    <!-- Terroirs Section (only visible if has chronic data) -->
    <app-terroirs-section
      context="club"
      [loading]="profileStatsLoading()"
      [isPremium]="true"
      [hasChronicData]="hasChronicData()"
      [terroirs]="terroirs()"
    />

    <!-- Journal Section -->
    <app-journal-section
      context="club"
      [loading]="profileStatsLoading()"
      [tastings]="journal()"
    />

    <!-- Quick Actions -->
    <div class="pt-4">
      <h3 class="text-lg font-semibold text-smoke-100 mb-4">Actions rapides</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
        <!-- View Members -->
        <a
          routerLink="/membres"
          class="flex items-center gap-3 p-4 rounded-lg bg-smoke-800 border border-smoke-700 hover:border-smoke-600 transition-colors"
        >
          <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-smoke-700">
            <i name="users" class="w-5 h-5 text-gold-500"></i>
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="text-sm font-medium text-smoke-100 mb-0.5">Voir les membres</h3>
            <p class="text-xs text-smoke-400">Consulter la liste des membres</p>
          </div>
        </a>

        <!-- Create Tasting for Club -->
        <a
          routerLink="/tasting/new"
          class="flex items-center gap-3 p-4 rounded-lg bg-smoke-800 border border-smoke-700 hover:border-smoke-600 transition-colors"
        >
          <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-smoke-700">
            <i name="flame" class="w-5 h-5 text-gold-500"></i>
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="text-sm font-medium text-smoke-100 mb-0.5">Nouvelle dégustation</h3>
            <p class="text-xs text-smoke-400">Partager avec le club</p>
          </div>
        </a>

        <!-- Settings (Admins/Owners only) -->
        @if (canAccessSettings()) {
          <a
            routerLink="/settings"
            class="flex items-center gap-3 p-4 rounded-lg bg-smoke-800 border border-smoke-700 hover:border-smoke-600 transition-colors"
          >
            <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-smoke-700">
              <i name="settings" class="w-5 h-5 text-gold-500"></i>
            </div>
            <div class="flex-1 min-w-0">
              <h3 class="text-sm font-medium text-smoke-100 mb-0.5">Parametres du club</h3>
              <p class="text-xs text-smoke-400">Gerer le club</p>
            </div>
          </a>
        }
      </div>
    </div>
  }
</div>