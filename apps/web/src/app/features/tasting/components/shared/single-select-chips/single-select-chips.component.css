/**
 * SingleSelectChips - CSS Animations
 *
 * Uses CSS Houdini @property for animating custom properties.
 * Required for the conic-gradient progress ring animation.
 */

/* Custom property for animation (CSS Houdini) */
@property --ring-progress {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

/* Progress ring - cards variant */
.chip-progress-ring {
  position: relative;
}

.chip-progress-ring::before {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: inherit;
  background: conic-gradient(
    rgb(212 175 55) var(--ring-progress, 0deg),
    transparent var(--ring-progress, 0deg)
  );
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  padding: 3px;
  animation: fill-ring 900ms linear forwards;
}

/* Progress ring - pills variant (rounded-full) */
.chip-progress-ring-pill {
  position: relative;
}

.chip-progress-ring-pill::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 9999px;
  background: conic-gradient(
    rgb(212 175 55) var(--ring-progress, 0deg),
    transparent var(--ring-progress, 0deg)
  );
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  padding: 2px;
  animation: fill-ring 900ms linear forwards;
}

@keyframes fill-ring {
  from {
    --ring-progress: 0deg;
  }
  to {
    --ring-progress: 360deg;
  }
}

/* Bump effect after validation */
.chip-validated {
  animation: chip-bump 250ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes chip-bump {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.18);
  }
  100% {
    transform: scale(1);
  }
}
