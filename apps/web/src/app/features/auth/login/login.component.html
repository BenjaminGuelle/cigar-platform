<div class="w-full rounded-xl bg-smoke-800 p-10 shadow-2xl shadow-smoke-950/50 backdrop-blur-sm border border-smoke-700">
    <h1 class="heading-2 mb-2 text-center">Connexion</h1>
    <p class="body-sm mb-6 text-center">Bienvenue sur Cigar & Club</p>

    @if (error(); as errorMessage) {
        <div class="mb-6 rounded-lg border border-error-500/30 bg-error-950/30 p-3 body-sm text-error-400">
            {{ errorMessage }}
        </div>
    }

    <ui-button variant="outline"
               fullWidth
               icon="google"
               [loading]="authStore.signInWithGoogle.loading()"
               [disabled]="authStore.signInWithGoogle.loading()"
               (clicked)="onGoogleSignIn()"
               class="mb-4"
    >
        Continuer avec Google
    </ui-button>

    <div class="mb-6 flex items-center gap-3">
        <div class="h-px flex-1 bg-smoke-700"></div>
        <span class="caption">ou continuer avec email</span>
        <div class="h-px flex-1 bg-smoke-700"></div>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="mb-4">
            <ui-input
                    inputId="email"
                    type="email"
                    label="Email"
                    placeholder="Entrez votre email"
                    [control]="loginForm.controls.email"
                    required
            />
        </div>

        <div class="mb-2">
            <ui-input
                    inputId="password"
                    type="password"
                    label="Mot de passe"
                    placeholder="Entrez votre mot de passe"
                    [control]="loginForm.controls.password"
                    required
            />
        </div>

        <div class="mb-6 text-right">
            <ui-button variant="link" size="sm" (clicked)="navigateToForgotPassword()">
                Mot de passe oubli√© ?
            </ui-button>
        </div>

        <ui-button
                type="submit"
                variant="primary"
                fullWidth
                [loading]="authStore.signIn.loading()"
                [disabled]="authStore.signIn.loading()"
        >
            Se connecter
        </ui-button>
    </form>

    <div class="mt-6 text-center">
        <p class="body-sm">
            Pas encore de compte ?
            <ui-button variant="link" size="sm" (clicked)="navigateToRegister()">
                S'inscrire
            </ui-button>
        </p>
    </div>
</div>